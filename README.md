# Introduction
This is a project that I worked on in my Computer Programming class in the fall of 2016. It is an implementation of the Minesweeper game in Java and was created using the Gradle build tool. The professor provided us students with instructions for the project. In addition, the professor also included a few lines of code as a starting point. To ensure that the program works as intended, the professor also included unit tests to use with Gradle. The program consists of 5 classes: Location.java, Grid.java, Ticker.java, Minesweeper.java, and Main.java.
# The Program
## Location
The most basic class in the program is the Location class. It contains an enum called Type consisting of three values: COVERED, UNCOVERED, and FLAGGED. It also contains a boolean called mine that represents whether the location contains a mine or not. In addition, the class contains an integer called hint that keeps track of the number of mines in the Location's vicinity. The constructor for the class initializes the Type enum to COVERED. It also sets the mine boolean to false and the hint integer to 0. In addition, the Location class has methods for getting and setting the Type, mine, and hint values.
## Grid
The Grid class contains a 2D array of Location objects called location. It also extends the Observable component of the Observer pattern. This allows other classes to observe the changes made to the Grid object. The class also contains an enum called Result with the values NONE, WIN, and LOSE. It also has an integer called mines that represents how many mines are on the grid. Lastly, it has a Random object called random.

The constructor receives three integers as arguments that represent the width, height, and the number of mines in the grid. It also receives a Random object as an argument. It instantiates the 2D location array with the height and width integers. It then iterates through the array and creates a new Location object in each spot. Then it calls the placeMines and placeHints methods.

The placeMines method uses a while loop nested within a for loop. The for loop iterates until the required number of mines are placed. The while loop iterates until a mine is successfully placed. By using the Random object, the method selects a square in the location array randomly. If the selected square already has a mine, then the while loop repeats.

An important method used by the placeHints method is getNeighbors. It receives two integers that represent the row and column of the Location whose neighbors will be collected. It returns a List of Location objects. The method iterates through 9 squares in the Grid, including the Location at the index argument. The squares checked include the three above the Location's row, the three on the Location's row, and the three below the Location's row. This covers all eight possible Locations in the vicinity of the given index. During the loop, the isLegalIndex method is called to check if the current index is within the bounds of the Grid. If the specified index is legal, and it is not the given index argument, then it is a neighbor. The Location at that index is added to the neighbors list.

Another method used by placeHints is called calculateHint. It receives a List of Location objects as an argument, and it returns an integer. It simply iterates through the List and counts the number of Locations that contain a mine. Then it returns that number.

The placeHints method iterates through the entire Grid. At each Location, it calls the getNeighbors method. Then it uses the returned List to call the calculateHint method. Finally, it sets the Location's hint value to the integer returned by the calculateHint method.

The placeFlagAt method receives two integers that represent a row and column index. It checks if the index is legal and if the Location at that index is covered. Then it sets that Location's Type to FLAGGED. It also notifies its observers with a String in the format "(row number):(column number):(action)". An example would be "4:5:flag". Similarly, the removeFlagAt method sets the specified FLAGGED Location's Type to COVERED.

The uncoverAt method is a recursive method that uncovers the specified Location in the Grid. It receives two integers as an argument that represent a Location's index. If the specified Location is legal and is currently covered, then its type is set to UNCOVERED. It also notifies its observers if the specified Location has a mine. If it does not, then the method notifies its observers of the number of mines in the vicinity. Like the getNeighbors method, this method iterates through the surrounding Locations. During the loop, if the specified Location is legal, is not the given Location, and has no mine, then the uncoverAt method is recursively called for that Location. This method performs the opening of the board in Minesweeper.

The getResult method determines the result of the game and returns a Result enum. It iterates through the entire Grid. If any Locations that are uncovered contain a mine, then the Result enum is set to LOSE. If the number of uncovered Locations equals the number of non-mine Locations, then the Result enum is set to WIN. Otherwise, the Result enum is set to NONE.
## Ticker
The Ticker class extends JLabel and implements ActionListener. It contains a Timer called timer, an integer called seconds, and a boolean called running. This class simply represents a timer that is displayed in the game window. It updates its seconds in the JLabel text.
## Minesweeper
The Minesweeper class extends JPanel and implements MouseListener and Observer. It contains two ImageIcon objects instantiated with the .png files that the professor provided. These images are used for the flag and mine icons. It also contains a Grid object and a Ticker object. It uses a 2D array of JLabels called tile to represent the game board. The class has an integer called flags to keep track of the number of flags allowed. It displays this in a JLabel called flagLabel. It also has a boolean called enabled.

The contructor receives a width integer, a height integer, and a mines integer as arguments. Since it extends JPanel, it creates a GridLayout to keep the GUI organized. The constructor then instantiates the Grid object and adds the Minesweeper object as an observer. It sets the number of flags to the given number of mines. It adds a JLabel with the text "Flags" and adds the flagLabel instantiated with the number of flags next to it. Similarly, it adds a JLabel for the time and adds the Ticker object next to it.

The constructor then instantiates the 2D array of JLabels called tile with the given height and width integers. Then it iterates through the array. It adds a MouseListener for each JLabel in the array, among other preparations. This allows the user to interact with the JLabels as buttons that can be pressed in more than one way.

The mouseClicked method handles the actions performed after a JLabel is clicked. It locates the JLabel in the tile array that was clicked using the findSourceIndex method. Using the index of the JLabel, it performs actions on the corresponding Location in the Grid object. If it is a left click, then it uncovers the specified Location. If it is a right click, then it places or removes a flag at the Location. If the user clicks for the first time, then the Ticker object timer is enabled.

After the Grid object is modified, it notifies the Minesweeper object of the changes since it is an oberver. The update method handles the receiving of the message String given by the Observable object. It parses the String using the colon as a delimiter. The JLabel to be updated is determined by the index given in the message. If the message contains the word mine, then the corresponding JLabel is set to the Mine ImageIcon. If it contains flag, then the JLabel is set to the Flag ImageIcon. If it contains unflag, then the Flag ImageIcon is removed from the JLabel. Lastly, if it contains a number representing the hint, then the JLabel text is set to that number.

The update method also calls the getResult method of Grid to determine the state of the game. A dialog box is created displaying the result if the game is over. Closing the dialog box closes the program.
## Main
The Main class simply instantiates the objects. It also creates a JFrame to hold the Minesweeper object since it extends JPanel. In addition, it allows the user to enter the parameters for the board size if the program is run in the command prompt.
# Conclusion
The program is separated into several classes, each with a unique task. Using various tools such as MouseListener and the Observer pattern, I was able to recreate the Minesweeper game in Java.
